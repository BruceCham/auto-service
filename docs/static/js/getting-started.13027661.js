(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"./GettingStarted.mdx":function(e,n,t){"use strict";t.r(n);var a=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),r=t("./node_modules/react/index.js"),s=t("./node_modules/@mdx-js/react/dist/esm.js"),o=t("./node_modules/docz/dist/index.esm.js"),i=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),l=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),c=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),b=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js"),p=function(e){function n(){return Object(i.a)(this,n),Object(l.a)(this,Object(c.a)(n).apply(this,arguments))}return Object(b.a)(n,e),n}(r.Component);"undefined"!==typeof p&&p&&p===Object(p)&&Object.isExtensible(p)&&Object.defineProperty(p,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"IGuardConfig",filename:"__tests__/Doc.tsx"}});var u=function(e){function n(){return Object(i.a)(this,n),Object(l.a)(this,Object(c.a)(n).apply(this,arguments))}return Object(b.a)(n,e),n}(r.Component);"undefined"!==typeof u&&u&&u===Object(u)&&Object.isExtensible(u)&&Object.defineProperty(u,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"IYAPIConfig",filename:"__tests__/Doc.tsx"}});var m=function(e){function n(){return Object(i.a)(this,n),Object(l.a)(this,Object(c.a)(n).apply(this,arguments))}return Object(b.a)(n,e),n}(r.Component);"undefined"!==typeof m&&m&&m===Object(m)&&Object.isExtensible(m)&&Object.defineProperty(m,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"ISwaggerParser",filename:"__tests__/Doc.tsx"}});var j=function(e){function n(){return Object(i.a)(this,n),Object(l.a)(this,Object(c.a)(n).apply(this,arguments))}return Object(b.a)(n,e),n}(r.Component);"undefined"!==typeof j&&j&&j===Object(j)&&Object.isExtensible(j)&&Object.defineProperty(j,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"IJson2Service",filename:"__tests__/Doc.tsx"}});var d=function(e){function n(){return Object(i.a)(this,n),Object(l.a)(this,Object(c.a)(n).apply(this,arguments))}return Object(b.a)(n,e),n}(r.Component);"undefined"!==typeof d&&d&&d===Object(d)&&Object.isExtensible(d)&&Object.defineProperty(d,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"IRequest",filename:"__tests__/Doc.tsx"}});var O=function(e){function n(){return Object(i.a)(this,n),Object(l.a)(this,Object(c.a)(n).apply(this,arguments))}return Object(b.a)(n,e),n}(r.Component);"undefined"!==typeof O&&O&&O===Object(O)&&Object.isExtensible(O)&&Object.defineProperty(O,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"ISwaggerConfig",filename:"__tests__/Doc.tsx"}});var g={},f="wrapper";function h(e){var n=e.components,t=Object(a.a)(e,["components"]);return Object(s.b)(f,Object.assign({},g,t,{components:n,mdxType:"MDXLayout"}),Object(s.b)("h3",{id:"360"},"3.6.0"),Object(s.b)("p",null,"\u652f\u6301\u589e\u91cf\u66f4\u65b0 Service \u6587\u4ef6\uff0c\u6bd4\u5982\u5bf9\u4e8e API.ts\uff0c\u5982\u679c\u5185\u5bb9\u672a\u53d1\u751f\u53d8\u52a8\uff0c\u5219\u4e0d\u4f1a\u91cd\u65b0\u751f\u6210 API.ts\u3002"),Object(s.b)("p",null,"\u5982\u679c\u4f7f\u7528\u4e86\u81ea\u52a8\u683c\u5f0f\u5316\u4ee3\u7801\u5de5\u5177\uff0c\u9700\u8981\u5728\u914d\u7f6e\u6587\u4ef6\u5185\u914d\u7f6e formater \u53c2\u6570\u6765\u53d6\u4ee3\u4e4b\u524d\u7684\u8c03\u7528\u65b9\u5f0f\uff0c\u6bd4\u5982\u4e4b\u524d\u5728 package.json \u91cc\u914d\u7f6e\uff1a"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-json"}),'{\n  "scripts": "autos -c json2service.js --clear && prettier src/services/**/**.ts --write"\n}\n')),Object(s.b)("p",null,'\u9700\u8981\u79fb\u9664 "prettier src/services/',Object(s.b)("strong",{parentName:"p"},"/"),'.ts --write"\uff0c\u5e76\u5728 json2service.js \u91cc\u914d\u7f6e\uff1a'),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-js"}),"{\n  swaggerConfig: {\n    formater: 'npx prettier {path}/**/**.ts --write --loglevel error --with-node-modules'\n  },\n}\n")))}h&&h===Object(h)&&Object.isExtensible(h)&&Object.defineProperty(h,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"CHANGELOG.md"}}),h.isMDXComponent=!0,t.d(n,"default",(function(){return P}));var y={},x="wrapper";function P(e){var n=e.components,t=Object(a.a)(e,["components"]);return Object(s.b)(x,Object.assign({},y,t,{components:n,mdxType:"MDXLayout"}),Object(s.b)("h1",{id:"api"},"API"),Object(s.b)("h2",{id:"1-\u5b89\u88c5-autos"},"1. \u5b89\u88c5 Autos"),Object(s.b)("p",null,"\u901a\u8fc7 npm \u5b89\u88c5 Autos\u3002"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{}),"$ npm i -D auto-service\n$ npx autos --help\n")),Object(s.b)("h2",{id:"2-\u53c2\u6570\u914d\u7f6e"},"2. \u53c2\u6570\u914d\u7f6e"),Object(s.b)("h2",{id:"21-\u547d\u4ee4\u884c\u53c2\u6570"},"2.1 \u547d\u4ee4\u884c\u53c2\u6570"),Object(s.b)("p",null,"\u4ee5\u4e0b\u53ef\u76f4\u63a5\u901a\u8fc7\u547d\u4ee4\u884c\u8bbe\u7f6e\u7684\u53c2\u6570\uff1a"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{}),'  -V, --version                  output the version number\n  -c, --config [path]            config file (default: "json2service.json" or "json2service.js")\n  --clear                        rm typescript service before gen\n  --quiet                        auto merge without popup\n  --apis [boolean]               \u662f\u5426\u751f\u6210 apis\uff0c\u5982\u679c\u672a\u6307\u5b9a models \u4e14\u672a\u6307\u5b9a typeScriptDataFile \u5219\u4f1a\u751f\u6210 apis\n  --models [boolean]             \u662f\u5426\u751f\u6210 models\uff0c\u5982\u679c\u672a\u6307\u5b9a apis \u4e14\u672a\u6307\u5b9a typeScriptDataFile \u5219\u4f1a\u751f\u6210 models\n  --typeScriptDataFile [string]  \u662f\u5426\u4ec5\u751f\u6210 TypeScript Data\uff0c\u53ef\u7528\u4e8e\u5b8c\u5168\u81ea\u5b9a\u4e49\u751f\u6210\u903b\u8f91\n  -h, --help                     output usage information\n')),Object(s.b)("h2",{id:"22-\u4e3b\u914d\u7f6e\u6587\u4ef6"},"2.2 \u4e3b\u914d\u7f6e\u6587\u4ef6"),Object(s.b)("p",null,"Autos \u9ed8\u8ba4\u4ece\u5f53\u524d\u76ee\u5f55\u4e0b\u7684 json2service.json \u6587\u4ef6\u8bfb\u53d6\u4e3b\u914d\u7f6e\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u901a\u8fc7\u547d\u4ee4\u884c\u53c2\u6570 ",Object(s.b)("inlineCode",{parentName:"p"},"-c, --config")," \u6307\u5b9a\u4efb\u610f\u683c\u5f0f\u4e3a JSON \u6216\u8005 JavaScript \u7684\u914d\u7f6e\u6587\u4ef6\u3002"),Object(s.b)("p",null,"\u914d\u7f6e\u6587\u4ef6\u5fc5\u987b\u5bfc\u51fa\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5305\u542b\u4ee5\u4e0b\u53ef\u914d\u7f6e\u5c5e\u6027\uff1a"),Object(s.b)(o.c,{of:j,mdxType:"Props"}),Object(s.b)("h2",{id:"221-yapiconfig-\u53c2\u6570"},"2.2.1 yapiConfig \u53c2\u6570"),Object(s.b)("p",null,"yapiConfig \u7528\u4ee5\u914d\u7f6e\u5c06 YApi \u683c\u5f0f\u63a5\u53e3\u6587\u6863\u8f6c\u6362\u6210 Swagger \u63a5\u53e3\u6587\u6863\u683c\u5f0f\u7684\u5404\u79cd\u89c4\u5219\u3002"),Object(s.b)(o.c,{of:u,mdxType:"Props"}),Object(s.b)("h2",{id:"222-swaggerparser-\u53c2\u6570"},"2.2.2 swaggerParser \u53c2\u6570"),Object(s.b)("p",null,"swaggerParser \u7528\u4ee5\u914d\u7f6e\u76f4\u63a5\u900f\u4f20\u7ed9 Swagger Codegen Java \u751f\u6210\u5de5\u5177\u7684\u5404\u79cd\u53c2\u6570\u3002"),Object(s.b)(o.c,{of:m,mdxType:"Props"}),Object(s.b)("h2",{id:"223-guardconfig-\u53c2\u6570"},"2.2.3 guardConfig \u53c2\u6570"),Object(s.b)("p",null,"guardConfig \u7528\u4ee5\u914d\u7f6e\u68c0\u67e5\u63a5\u53e3\u6587\u6863\u662f\u5426\u7b26\u5408\u89c4\u8303\u7684\u5404\u79cd\u89c4\u5219\u3002"),Object(s.b)(o.c,{of:p,mdxType:"Props"}),Object(s.b)("h2",{id:"224-requestconfig-\u53c2\u6570"},"2.2.4 requestConfig \u53c2\u6570"),Object(s.b)("p",null,"requestConfig \u7528\u4ee5\u914d\u7f6e\uff0c\u5f53\u9700\u8981\u4f7f\u7528 http \u8bf7\u6c42\u4ece\u670d\u52a1\u5668\u4fa7\u4e0b\u8f7d\u63a5\u53e3\u6587\u6863\u6587\u4ef6\u65f6\u7684\u5404\u79cd\u53c2\u6570\u3002"),Object(s.b)(o.c,{of:d,mdxType:"Props"}),Object(s.b)("h2",{id:"225-swaggerconfig-\u53c2\u6570"},"2.2.5 swaggerConfig \u53c2\u6570"),Object(s.b)("p",null,"swaggerConfig \u7528\u4ee5\u914d\u7f6e\u5728 Swagger \u5c06\u88ab Swagger Codegen \u8f6c\u6362\u4e3a\u76ee\u6807\u4ee3\u7801\u524d\u7684\u5404\u79cd\u4fee\u6539\u5668\u3002"),Object(s.b)(o.c,{of:O,mdxType:"Props"}),Object(s.b)("h2",{id:"226-\u793a\u4f8b"},"2.2.6 \u793a\u4f8b"),Object(s.b)("p",null,"\u4ee5\u4e0b\u662f\u4e00\u4e2a\u5b8c\u6574\u7684\u4e3b\u914d\u7f6e\u793a\u4f8b\u3002"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-json"}),'{\n  "url": "./api.json", // \u6587\u4ef6\u8def\u5f84\n  "remoteUrl": "http://**", // url\n  "requestConfig": {\n    "url": "./api.json" // \u6587\u4ef6\u8def\u5f84\u6216url\n    // \u4ee5\u4e0b\u6240\u6709 request \u652f\u6301\u7684\u53c2\u6570\n    // headers?: Headers;\n    // baseUrl?: string;\n    // callback?: RequestCallback;\n    // jar?: CookieJar | boolean;\n    // formData?: { [key: string]: any };\n    // form?: { [key: string]: any } | string;\n    // auth?: AuthOptions;\n    // oauth?: OAuthOptions;\n    // aws?: AWSOptions;\n    // hawk?: HawkOptions;\n    // qs?: any;\n    // qsStringifyOptions?: any;\n    // qsParseOptions?: any;\n    // json?: any;\n    // jsonReviver?: (key: string, value: any) => any;\n    // jsonReplacer?: (key: string, value: any) => any;\n    // multipart?: RequestPart[] | Multipart;\n    // agent?: http.Agent | https.Agent;\n    // agentOptions?: http.AgentOptions | https.AgentOptions;\n    // agentClass?: any;\n    // forever?: any;\n    // host?: string;\n    // port?: number;\n    // method?: string;\n    // body?: any;\n    // family?: 4 | 6;\n    // followRedirect?: boolean | ((response: http.IncomingMessage) => boolean);\n    // followAllRedirects?: boolean;\n    // followOriginalHttpMethod?: boolean;\n    // maxRedirects?: number;\n    // removeRefererHeader?: boolean;\n    // encoding?: string | null;\n    // pool?: any;\n    // timeout?: number;\n    // localAddress?: string;\n    // proxy?: any;\n    // tunnel?: boolean;\n    // strictSSL?: boolean;\n    // rejectUnauthorized?: boolean;\n    // time?: boolean;\n    // gzip?: boolean;\n    // preambleCRLF?: boolean;\n    // postambleCRLF?: boolean;\n    // withCredentials?: boolean;\n    // key?: Buffer;\n    // cert?: Buffer;\n    // passphrase?: string;\n    // ca?: string | Buffer | string[] | Buffer[];\n    // har?: HttpArchiveRequest;\n    // useQuerystring?: boolean;\n  },\n  "type": "yapi",\n  "yapiConfig": {\n    "required": false,\n    "bodyJsonRequired": false,\n    "categoryMap": {\n      "\u4e2d\u6587": "English" // yapi \u63a5\u53e3\u5206\u7c7b\u4e2d\u82f1\u6587\u6620\u5c04\n    }\n  },\n  "swaggerParser": {\n    "-o": "tmp/services"\n  },\n  "validateResponse": false, // \u662f\u5426\u751f\u6210\u6821\u9a8c\u903b\u8f91\n  "guardConfig": {\n    // + strict \u4e25\u683c\u6a21\u5f0f\n    //    - \u6821\u9a8c swagger tags\u3010yapi \u63a5\u53e3\u5206\u7c7b\u3011\u662f\u5426\u662f\u7eaf\u82f1\u6587\n    //    - \u65b9\u6cd5\u540d\u4f7f\u7528 http method + url \u9a7c\u5cf0\u5f62\u5f0f\n    //    - \u65b0\u9879\u76ee\u91c7\u7528\n    // + safe \u5b89\u5168\u6a21\u5f0f\n    //    - \u65b9\u6cd5\u540d\u4f7f\u7528 http method + url \u9a7c\u5cf0\u5f62\u5f0f\n    //    - \u8001\u9879\u76ee\u5347\u7ea7\uff0c\u4e0d\u4f1a\u6821\u9a8c tags\uff0c\u4f1a\u751f\u6210\u65b9\u6cd5\u8c03\u7528\u66ff\u6362\u6620\u5c04\u8868\n    // + \u9ed8\u8ba4\n    //    - http method + url => operationId \u6620\u5c04\u9501\u5b9a\n    //    - \u8001\u9879\u76ee\u7ef4\u6301\u73b0\u72b6\n    "mode": "strict",\n    // swagger \u5904\u7406\u91cd\u590d operationId \u903b\u8f91\u6709\u98ce\u9669\uff0c\u56e0\u6b64\u9700\u8981\u9501\u5b9a\u6620\u5c04\u5173\u7cfb\n    "methodUrl2OperationIdMap": {\n      "get /api/xxx/xxx": "operationId"\n    }\n  }\n}\n')),Object(s.b)("h2",{id:"23-\u4f7f\u7528\u65b9\u5f0f"},"2.3 \u4f7f\u7528\u65b9\u5f0f"),Object(s.b)("h3",{id:"npx"},"npx"),Object(s.b)("p",null,"\u5b89\u88c5 npx ",Object(s.b)("inlineCode",{parentName:"p"},"npm i -g npx"),"\uff0c\u901a\u8fc7 npx \u76f4\u63a5\u4f7f\u7528 Autos \u751f\u6210\u76ee\u6807\u4ee3\u7801\uff1a"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-shell"}),"  npx autos # \u4f7f\u7528\u9ed8\u8ba4\u914d\u7f6e\n  npx autos -c config.json # \u6307\u5b9a\u914d\u7f6e\u6587\u4ef6\n  npx autos --clear # \u6e05\u7a7a\u4e0a\u6b21\u751f\u6210\u4ea7\u7269\n  npx autos --quiet # \u81ea\u52a8\u5168\u91cf\u4f7f\u7528\u8fdc\u7a0b\u6587\u6863\uff0c\u4e0d\u663e\u793a diff & merge \u9875\u9762\n  npx autos --models # \u4ec5\u751f\u6210 models\n  npx autos --models --apis # \u4ec5\u751f\u6210 models & apis\n  npx autos --typeScriptDataFile TypeSciptData.json # \u4ec5\u751f\u6210\u7c7b\u578b\u4fe1\u606f json \u5230 TypeSciptData.json\n")),Object(s.b)("h3",{id:"npm-scripts"},"npm scripts"),Object(s.b)("p",null,"\u901a\u8fc7 npm scripts \u4f7f\u7528 Autos \u751f\u6210\u76ee\u6807\u4ee3\u7801\uff0c\u5728 package.json \u5185\u6dfb\u52a0\uff1a"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-json"}),'{\n  "scripts": {\n    "api": "autos --clear"\n  }\n}\n')),Object(s.b)("p",null,Object(s.b)("inlineCode",{parentName:"p"},"npm run api")," \u751f\u6210\u76ee\u6807\u4ee3\u7801\u3002"),Object(s.b)("h2",{id:"3-ajax-\u63a5\u53e3"},"3. Ajax \u63a5\u53e3"),Object(s.b)("p",null,"Autos \u751f\u6210\u7684 Service \u4ee3\u7801\u5185\u5305\u542b\u4ee5\u4e0b\u548c\u540e\u7aef\u8fdb\u884c\u901a\u4fe1\u7684\u56fa\u5b9a\u4ee3\u7801\uff1a"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-ts"}),"import ajax, { AjaxPromise, ExtraFetchParams } from '@ajax';\n")),Object(s.b)("p",null,"\u4f60\u53ef\u4ee5\u53c2\u8003 ",Object(s.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/e-kit/ekit/blob/master/packages/ajax/src/new-ajax.ts"}),"@ekit/ajax")," \u4ee3\u7801\u5b9e\u73b0\u81ea\u5b9a\u4e49\u7684 ",Object(s.b)("inlineCode",{parentName:"p"},"@ajax")," \u6a21\u5757\uff0c\u6216\u8005\u6309\u7167\u4ee5\u4e0b\u63a5\u53e3\u5b9a\u4e49\uff0c\u5b9e\u73b0\u81ea\u5b9a\u4e49\u7684 ",Object(s.b)("inlineCode",{parentName:"p"},"@ajax")," \u6a21\u5757\uff1a"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-ts"}),"/** \u4e0d\u518d\u517c\u5bb9\u975e\u6807\u51c6\u7684\u6570\u636e\u7ed3\u6784 */\nexport declare type AjaxPromise<R> = Promise<R>;\n/** \u975e\u6807\u51c6\u5305\u88f9 */\nexport declare type NonStandardAjaxPromise<R> = Promise<{\n  code?: number;\n  message?: string;\n  result: R;\n}>;\nexport interface ExtraFetchParams {\n  /** extra data for extends */\n  extra?: any;\n  /** \u6269\u5c55\u8bf7\u6c42\u5934 */\n  headers?: any;\n  /** cancel request */\n  cancel?: Promise<string | undefined>;\n}\nexport interface WrappedFetchParams extends ExtraFetchParams {\n  /** http method */\n  method: 'GET' | 'POST' | 'PUT' | 'DELETE' | 'OPTIONS' | 'PATCH' | 'HEAD';\n  url: string;\n  /** post json data */\n  data?: any;\n  /** post form data */\n  form?: any;\n  /** query data */\n  query?: any;\n  /** header */\n  header?: any;\n  /** path data */\n  path?: any;\n}\nexport declare class Ajax {\n  /** ajax \u65b9\u6cd5 */\n  ajax(\n    { method, url, data, form, query, header, extra, cancel, headers }: WrappedFetchParams,\n    path?: string,\n    basePath?: string\n  ): Promise<any>;\n  /** \u63a5\u53e3\u4f20\u53c2\u6821\u9a8c */\n  check<V>(value: V, name: string): void;\n  /** \u65b0 fetch \u63a5\u53e3\uff0c>= 3.5.4 */\n  public autosFetch<S extends keyof AutosAPIS>(\n    source: S,\n    ...args: AutosAPIS[S][0]\n  ): Promise<AutosAPIS[S][1]> {\n    const { isFile, opt, ...config } = (args[0] || {}) as AutosParams;\n    let { headers = {} } = opt || {};\n    if (isFile) {\n      headers = {\n        ...headers,\n        'Content-Type': 'multipart/form-data'\n      };\n    }\n    const [method, url] = source.split(' ') as [WrappedFetchParams['method'], string];\n    return this.ajax({\n      ...config,\n      ...opt,\n      method,\n      url: config.path\n        ? url.replace(\n            /(({[^}]+})|(:[^/:]+$)|(:[^:/]+))/g,\n            all => config.path![all.replace(/[:{}]/g, '')] || ''\n          )\n        : url,\n      headers\n    });\n  }\n}\ndeclare const _default: Ajax;\nexport default _default;\n")),Object(s.b)("h2",{id:"4-\u589e\u91cf\u66f4\u65b0"},"4. \u589e\u91cf\u66f4\u65b0"),Object(s.b)("p",null,"Autos \u652f\u6301\u4ea4\u4e92\u52fe\u9009\u754c\u9762\u3001\u589e\u91cf\u540c\u6b65\u8fdc\u7a0b\u589e\u3001\u5220\u3001\u6539\u5dee\u5f02\u5230\u672c\u5730\u6587\u6863\u3002"),Object(s.b)("h3",{id:"\u6d41\u7a0b\u6b65\u9aa4"},"\u6d41\u7a0b\u6b65\u9aa4"),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},"\u4e3b\u914d\u7f6e\u6587\u4ef6\u914d\u7f6e url \u548c remoteUrl",Object(s.b)("ul",{parentName:"li"},Object(s.b)("li",{parentName:"ul"},"url - \u672c\u5730\u63a5\u53e3\u6587\u6863\u6587\u4ef6\u8def\u5f84\u3010\u5982\u6587\u4ef6\u4e0d\u5b58\u5728\uff0c\u5728\u83b7\u53d6 remoteUrl \u6307\u5b9a\u5730\u5740\u5185\u5bb9\u540e\uff0c\u521b\u5efa\u8be5\u6587\u4ef6\u3011"),Object(s.b)("li",{parentName:"ul"},"remoteUrl - \u65b0\u7248\u63a5\u53e3\u6587\u6863 url \u6216\u8005\u8def\u5f84"))),Object(s.b)("li",{parentName:"ul"},"\u6267\u884c Autos"),Object(s.b)("li",{parentName:"ul"},"Autos \u5bf9\u672c\u5730\u63a5\u53e3\u6587\u6863\u6587\u4ef6\u548c\u65b0\u7248\u63a5\u53e3\u6587\u6863\u8fdb\u884c diff",Object(s.b)("ul",{parentName:"li"},Object(s.b)("li",{parentName:"ul"},"\u6709\u5dee\u5f02",Object(s.b)("ul",{parentName:"li"},Object(s.b)("li",{parentName:"ul"},"\u6253\u5f00\u6d4f\u89c8\u5668\uff0c\u4eba\u5de5\u9009\u62e9\u9700\u8981\u540c\u6b65\u7684\u5dee\u5f02\uff0c\u70b9\u51fb\u201c\u4fdd\u5b58\u201d"),Object(s.b)("li",{parentName:"ul"},"Autos patch Delta \u751f\u6210\u540c\u6b65\u5dee\u5f02\u540e\u7684\u63a5\u53e3\u6587\u6863"),Object(s.b)("li",{parentName:"ul"},"\u8fdb\u5165\u4e0b\u4e00\u6b65"))),Object(s.b)("li",{parentName:"ul"},"\u65e0\u5dee\u5f02",Object(s.b)("ul",{parentName:"li"},Object(s.b)("li",{parentName:"ul"},"\u76f4\u63a5\u8fdb\u5165\u4e0b\u4e00\u6b65"))))),Object(s.b)("li",{parentName:"ul"},"Autos \u8c03\u7528 Swagger Codegen \u751f\u6210\u76ee\u6807\u4ee3\u7801")),Object(s.b)("h2",{id:"5-\u7b80\u6d01\u6a21\u5f0f"},"5. \u7b80\u6d01\u6a21\u5f0f"),Object(s.b)("p",null,"\u4ece 3.5.4 \u7248\u672c\u8d77\uff0c\u5f53\u914d\u7f6e ",Object(s.b)("inlineCode",{parentName:"p"},"swaggerParser['-t']")," \u53c2\u6570\u4e3a ",Object(s.b)("inlineCode",{parentName:"p"},"'plugins/typescript-tkit-autos'")," \u65f6\uff0cAutos \u4f1a\u751f\u6210\u901a\u8fc7 url \u8c03\u7528\u7684\u7c7b\u578b\u5b89\u5168\u7684 service \u4ee3\u7801\uff0c\u5982\u4ee5\u4e0b\u793a\u4f8b\u6240\u793a\uff1a"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-ts"}),"import { ExtraFetchParams } from '@ajax';\nimport * as models from '../model/models';\n\ndeclare global {\n  interface AutosAPIS {\n    'GET /ts-boilerplate/api/user/info': [\n      (\n        | []\n        | [\n            {\n              opt?: ExtraFetchParams;\n            }\n          ]\n      ),\n      models.UserInfo\n    ];\n  }\n}\n")),Object(s.b)("p",null,"\u6b64\u65f6\uff0c\u6211\u4eec\u9700\u8981\u4f7f\u7528\u65b0\u7248\u7684\u6846\u67b6\u914d\u5957\u7684 ajax \u6216\u8005\u81ea\u884c\u5b9e\u73b0 ",Object(s.b)("inlineCode",{parentName:"p"},"autosFetch"),"\uff0c\u5982\u4ee5\u4e0b\u793a\u4f8b\u6240\u793a\uff1a"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-ts"}),"declare global {\n  interface AutosAPIS {\n    /** \u6d4b\u8bd5\u63a5\u53e3 */\n    'DEMO /ajax/test': [[{}], {}];\n  }\n}\n// ...\nfunction autosFetch<S extends keyof AutosAPIS>(\n  source: S,\n  ...args: AutosAPIS[S][0]\n): Promise<AutosAPIS[S][1]> {\n  const { isFile, opt, ...config } = (args[0] || {}) as AutosParams;\n  let { headers = {} } = opt || {};\n  if (isFile) {\n    headers = {\n      ...headers,\n      'Content-Type': 'multipart/form-data'\n    };\n  }\n  // ...\n}\n")),Object(s.b)("p",null,"\u5982\u6b64\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7 url \u8c03\u7528 service \u4ee3\u7801\uff0c\u5982\u4ee5\u4e0b\u793a\u4f8b\u6240\u793a\uff08tCall \u9700\u8981\u66f4\u65b0 redux-model \u5230\u6700\u65b0\u7684\u7248\u672c\uff09\uff1a"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-ts"}),"function* test() {\n  const data = autosFetch('POST /ts-boilerplate/api/download');\n  const res: AutosAPIS['POST /ts-boilerplate/api/download'][1] = yield tCall(\n    autosFetch,\n    'POST /ts-boilerplate/api/download'\n  );\n}\n")),Object(s.b)("h2",{id:"6-changelog"},"6. CHANGELOG"),Object(s.b)(h,{mdxType:"CHANGELOG"}))}P&&P===Object(P)&&Object.isExtensible(P)&&Object.defineProperty(P,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"GettingStarted.mdx"}}),P.isMDXComponent=!0}}]);
//# sourceMappingURL=getting-started.25a183cce3eaa729ddc7.js.map